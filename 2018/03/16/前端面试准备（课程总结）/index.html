<!DOCTYPE html>






  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.2.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.2.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="keywords" content="JS,vue,面试">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试准备（课程总结）">
<meta property="og:url" content="https://github.com/winnie-bear/2018/03/16/前端面试准备（课程总结）/index.html">
<meta property="og:site_name" content="Winnie-bear">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.loli.net/2019/02/05/5c59a9e8df2dd.png">
<meta property="og:image" content="https://i.loli.net/2019/02/13/5c643946ca618.png">
<meta property="og:image" content="https://i.loli.net/2019/02/13/5c643946cad70.png">
<meta property="og:image" content="https://i.loli.net/2019/02/13/5c643947178e1.png">
<meta property="og:image" content="https://i.loli.net/2019/02/13/5c643a9a4f733.png">
<meta property="og:updated_time" content="2019-04-20T09:45:00.702Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端面试准备（课程总结）">
<meta name="twitter:image" content="https://i.loli.net/2019/02/05/5c59a9e8df2dd.png">






  <link rel="canonical" href="https://github.com/winnie-bear/2018/03/16/前端面试准备（课程总结）/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>前端面试准备（课程总结） | Winnie-bear</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://your-url" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Winnie-bear</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/winnie-bear/2018/03/16/前端面试准备（课程总结）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Winnie">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Winnie-bear">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端面试准备（课程总结）
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-03-16 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-16T00:00:00+08:00">2018-03-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-20 17:45:00" itemprop="dateModified" datetime="2019-04-20T17:45:00+08:00">2019-04-20</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/面试/" itemprop="url" rel="index"><span itemprop="name">面试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <hr>
<a id="more"></a>
<h3 id="一-JS基础篇"><a href="#一-JS基础篇" class="headerlink" title="(一) JS基础篇"></a>(一) JS基础篇</h3><h4 id="一、JS基础"><a href="#一、JS基础" class="headerlink" title="一、JS基础"></a>一、JS基础</h4><h6 id="1-变量类型和计算"><a href="#1-变量类型和计算" class="headerlink" title="1.变量类型和计算"></a>1.变量类型和计算</h6><p>1.1  题目</p>
<ul>
<li><p>JS中使用typeof能得到哪些类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">'abc'</span> <span class="comment">//string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">123</span> <span class="comment">//number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> <span class="comment">//boolean</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125; <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> [] <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">//object，这是一个历史错误</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">console</span>.log <span class="comment">//function</span></span><br><span class="line"><span class="comment">//typeof可以详细区别值类型（undefined、string、number、boolean)，但不能详细区分引用类型</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>何时使用 === 何时使用 ==</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(obj.a == <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="comment">//这里相当于 obj.a === null || obj.a === undefined, 简写形式</span></span><br><span class="line">    <span class="comment">//这是 jquery 源码推荐的写法</span></span><br><span class="line">    <span class="comment">//除了这种情况外 其它情况一律采用===写法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>JS中有哪些内置函数</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据封装类对象（原生对象，需要new）</span></span><br><span class="line"><span class="built_in">Number</span></span><br><span class="line"><span class="built_in">String</span></span><br><span class="line"><span class="built_in">Boolean</span></span><br><span class="line"><span class="built_in">Object</span></span><br><span class="line"><span class="built_in">Array</span></span><br><span class="line"><span class="built_in">Function</span></span><br><span class="line"><span class="built_in">Date</span></span><br><span class="line"><span class="built_in">RegExp</span></span><br><span class="line"><span class="built_in">Error</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>JS变量按照<strong>存储方式</strong>分为哪些类型，并描述其特点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//值类型 (互不影响)</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> b=a</span><br><span class="line">a=<span class="number">11</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">//10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引用类型（相互影响）</span></span><br><span class="line"><span class="keyword">var</span> obj1=&#123; <span class="attr">x</span>:<span class="number">100</span> &#125;</span><br><span class="line"><span class="keyword">var</span> obj2=obj1</span><br><span class="line">obj2.x=<span class="number">200</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.x) <span class="comment">//200</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>如何理解JSON</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JSON不仅是一种数据格式，还是JS的内置对象</span></span><br><span class="line"><span class="built_in">JSON</span>.stringfy(&#123;<span class="attr">a</span>:<span class="number">10</span>,<span class="attr">b</span>:<span class="number">20</span>&#125;)</span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'&#123;"a":10,"b":20&#125;'</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>1.2  涉及知识点</p>
<ul>
<li><p>变量类型</p>
<ul>
<li>值类型 vs 引用类型（{}  []  function）</li>
<li>typeof运算符详解（number string boolean undefined object function) </li>
</ul>
</li>
<li><p>变量计算</p>
<ul>
<li><p>强制类型转换</p>
<ul>
<li><p>字符串拼接</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span> + <span class="string">'10'</span> <span class="comment">// '10010'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>==运算符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span> == <span class="string">'100'</span></span><br><span class="line"><span class="string">''</span> == <span class="number">0</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>if语句</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="number">100</span>) &#123; <span class="built_in">console</span>.log(<span class="number">110</span>) &#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="string">''</span>) &#123; <span class="built_in">console</span>.log(<span class="number">110</span>) &#125;</span><br><span class="line"><span class="comment">//if语句的条件转换为false的情况：0 '' false NaN null undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>逻辑运算符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> &amp;&amp; <span class="number">0</span> <span class="comment">//0 , 10-&gt;true</span></span><br><span class="line"><span class="string">''</span> || <span class="string">'abc'</span> <span class="comment">//"abc", ''-&gt;false</span></span><br><span class="line"><span class="comment">//检验一个变量是true或false</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">100</span></span><br><span class="line">!!a <span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> b=<span class="string">''</span></span><br><span class="line">!!b <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="2-原型和原型链"><a href="#2-原型和原型链" class="headerlink" title="2.原型和原型链"></a>2.原型和原型链</h6><p>2.1 题目</p>
<ul>
<li><p>如何判断一个变量是数组类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//true</span></span><br><span class="line"><span class="keyword">typeof</span> arr;<span class="comment">//object,typeof 无法判断是否是数组类型</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个原型链继承的例子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//封装一个 DOM 查询的例子</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Elem</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elem=<span class="built_in">document</span>.getElementById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Elem.prototype.html=<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> elem=<span class="keyword">this</span>.elem</span><br><span class="line">    <span class="keyword">if</span>(val)&#123;</span><br><span class="line">        elem.innerHTML=val;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;<span class="comment">//链式操作</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elem.innerHTML;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Elem.prototype.on=<span class="function"><span class="keyword">function</span>(<span class="params">type,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> elem=<span class="keyword">this</span>.elem;</span><br><span class="line">    elem.addEventListener(type,fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;<span class="comment">//链式操作,this指向构造函数的实例</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> el=<span class="keyword">new</span> Elem(<span class="string">'div1'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(el.html());</span><br><span class="line"><span class="comment">//链式操作</span></span><br><span class="line">el.html(<span class="string">'&lt;p&gt;hello world!&lt;/p&gt;'</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'clicked'</span>);</span><br><span class="line">&#125;).html(<span class="string">'&lt;p&gt;javascript&lt;/p&gt;'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>描述 new 一个对象的过程</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 创建一个新对象</span><br><span class="line"><span class="number">2.</span> <span class="keyword">this</span>指向这个新对象</span><br><span class="line"><span class="number">3.</span> 执行代码，即对<span class="keyword">this</span>赋值</span><br><span class="line"><span class="number">4.</span> <span class="keyword">return</span> <span class="keyword">this</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>zepto (或其他框架) 源码中如何使用原型链</p>
</li>
</ul>
<p>2.2 涉及的知识点</p>
<ul>
<li><p>构造函数</p>
</li>
<li><p>构造函数—扩展</p>
</li>
<li><p>原型规则和实例</p>
<ul>
<li><p>所有的引用类型（对象 数组 函数），都具有对象特性，即可自由扩展属性（除了 null 以外）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;obj.a=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> arr=[];arr.a=<span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">fn.a=<span class="number">100</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>所有的引用类型（对象 数组 函数），都有一个<strong> proto </strong>属性（隐式原型），属性值是一个普通对象</p>
</li>
<li><p>所有<strong>函数</strong>，都有一个prototype属性（显式原型），属性值也是一个普通对象</p>
</li>
<li><p>所有的引用类型（对象 数组 函数），<strong> proto </strong>属性指向它的<strong>构造函数</strong>的 prototype 属性值</p>
</li>
<li><p>当试图得到一个对象的某个属性时，如果此对象本身没有这个属性，那么会去它的<strong> proto </strong>（即它的构造函数的prototype）中寻找</p>
</li>
</ul>
</li>
</ul>
<p>  <code>补充</code></p>
<p>  1.this 指向</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.alertName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实例</span></span><br><span class="line"><span class="keyword">var</span> f=<span class="keyword">new</span> Foo(<span class="string">'winnie'</span>);</span><br><span class="line">f.printName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试</span></span><br><span class="line">f.printName();</span><br><span class="line">f.alertName();</span><br><span class="line"><span class="comment">//通过对象f执行的函数，不管是自身的属性还是原型上的属性，this都指向f</span></span><br></pre></td></tr></table></figure>
<p>  2.循环对象自身的属性</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> item</span><br><span class="line"><span class="keyword">for</span>(item <span class="keyword">in</span> f)&#123;</span><br><span class="line">    <span class="comment">//高级浏览器已经在for in 中屏蔽了来自原型的属性</span></span><br><span class="line">    <span class="comment">//但是还是建议加上以下的判断，保证程序的健壮性</span></span><br><span class="line">    <span class="keyword">if</span>(f.hasOwnProperty(item))&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>原型链</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.alertName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实例</span></span><br><span class="line"><span class="keyword">var</span> f=<span class="keyword">new</span> Foo(<span class="string">'winnie'</span>);</span><br><span class="line">f.printName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试</span></span><br><span class="line">f.printName();</span><br><span class="line">f.alertName();</span><br><span class="line">f.toString();<span class="comment">//要去f.__proto__.__proto__中寻找</span></span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2019/02/05/5c59a9e8df2dd.png" alt="原型链"></p>
<p>​     <strong>提醒：当试图得到一个对象的某个属性时，如果此对象本身没有这个属性，那么会去它的<strong> proto </strong>（即它的构造函数的prototype）中寻找</strong></p>
</li>
</ul>
<ul>
<li><p>instanceof</p>
<p>用于判断 <strong>引用类型</strong> 属于哪个 <strong>构造函数</strong> 的方法</p>
<p>判断逻辑：顺着 f 的<strong> proto </strong>一层一层往上 </p>
</li>
</ul>
<h6 id="3-作用域和闭包"><a href="#3-作用域和闭包" class="headerlink" title="3.作用域和闭包"></a>3.作用域和闭包</h6><p>3.1 题目</p>
<ul>
<li><p>说一下对变量提升的理解</p>
<ul>
<li>变量定义</li>
<li>函数声明（注意和函数表达式的区别）</li>
</ul>
<p>提示：与<strong>执行上下文</strong>相关</p>
</li>
<li><p>说明 this 几种不同的使用场景</p>
<ul>
<li><p>作为构造函数执行</p>
</li>
<li><p>作为对象属性执行</p>
</li>
<li><p>作为普通函数执行</p>
</li>
<li><p>call apply bind</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//Person &#123;name: "winnie"&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f=<span class="keyword">new</span> Person(<span class="string">'winnie'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//对象属性</span></span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    name:<span class="string">'winnie'</span>,</span><br><span class="line">    printName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//&#123;name: "winnie", printName: ƒ&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.printName();</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//window</span></span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"></span><br><span class="line"><span class="comment">//call apply bind</span></span><br><span class="line"><span class="keyword">var</span> fn1=<span class="function"><span class="keyword">function</span> (<span class="params">name</span>)</span>&#123;</span><br><span class="line">    alert(name);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//&#123;x:100&#125;</span></span><br><span class="line">&#125;.bind(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;)</span><br><span class="line">fn1(<span class="string">'winnie'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>创建10个<a>标签，点击的时候弹出来对应的序号</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//函数作用域</span></span><br><span class="line">        <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">        a.innerHTML= i+<span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line">        a.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">            alert(i);<span class="comment">//自由变量，要在父级作用域获取值</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(a);</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何理解作用域</p>
<p>1.没有块级作用域</p>
<p>2.只有全局和函数作用域（函数里面的变量，外面无法访问和修改，只能函数里面使用）</p>
<p>要点：</p>
<ul>
<li><p>自由变量：当前作用域没有定义的变量</p>
</li>
<li><p>作用域链，即自由变量的查找：函数的父级作用域，是函数定义时的父级作用域，并非执行时的父级作用域</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var a=100;</span><br><span class="line">function F1()&#123;</span><br><span class="line">    var b=200;</span><br><span class="line">    function F2()&#123;</span><br><span class="line">        var c=300;</span><br><span class="line">        console.log(a);//a是自由变量，查询链：F2-&gt;F1-&gt;全局</span><br><span class="line">        console.log(b);</span><br><span class="line">        console.log(c);</span><br><span class="line">    &#125;</span><br><span class="line">    F2();</span><br><span class="line">&#125;</span><br><span class="line">F1();</span><br></pre></td></tr></table></figure>
</li>
<li><p>闭包的两个场景</p>
<ul>
<li>函数作为返回值</li>
<li>函数作为参数传递</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">F2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1=F1();<span class="comment">//返回函数F2</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">200</span>;</span><br><span class="line">f1();<span class="comment">//100 自由变量查找的父级作用域，是函数定义时的父级作用域</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数作为参数传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1=F1();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F2</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">200</span></span><br><span class="line">    fn();<span class="comment">//fn定义时的父级作用域是F1，执行时的父级作用域是F2</span></span><br><span class="line">&#125;</span><br><span class="line">F2(f1);<span class="comment">//100</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>实际开发中闭包的应用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//闭包实际应用中主要用于封装变量，收敛权限</span><br><span class="line">function isFirstLoad()&#123;</span><br><span class="line">    var _list=[];</span><br><span class="line">    return function(id)&#123;</span><br><span class="line">        if(_list.indexOf(id)&gt;=0)&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            _list.push(id);</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 使用</span><br><span class="line">var firstLoad=isFirstLoad();</span><br><span class="line">firstLoad(10);//true</span><br><span class="line">firstLoad(10);//false</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>3.2 涉及知识点</p>
<ul>
<li><p>执行上下文</p>
<ul>
<li>范围：一段&lt; script &gt;或者一个函数</li>
<li>全局（一段&lt; script &gt; ）：变量定义、函数声明在执行之前往上提升</li>
<li>函数：变量定义、函数声明、this、arguments在执行之前往上提升</li>
</ul>
</li>
<li><p>this</p>
<p><strong>this要在执行时才能确认值，定义时无法确认</strong></p>
</li>
<li><p>作用域</p>
</li>
<li><p>作用域链</p>
</li>
<li><p>闭包</p>
</li>
</ul>
<h6 id="4-异步与单线程"><a href="#4-异步与单线程" class="headerlink" title="4.异步与单线程"></a>4.异步与单线程</h6><p>4.1 题目</p>
<ul>
<li><p>同步和异步的区别是什么？分别举一个同步和异步的例子</p>
<ul>
<li>同步会<strong>阻塞</strong>代码执行，而异步不会</li>
<li>alert是同步，setTimeout是异步</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异步</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//同步</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line">alert(<span class="number">200</span>); <span class="comment">//1s之后点击确定</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>一个关于setTimeout的笔试题</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//连续打印1 3 5 2，等待一秒后打印4</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>前端使用异步的场景有哪些</p>
<ul>
<li>定时任务：setTimeout，setInterval</li>
<li>网络请求：ajax请求，动态 <img> 加载</li>
<li>事件绑定</li>
</ul>
<p>共同特点：都需要等待，不使用异步，会造成代码执行阻塞</p>
</li>
</ul>
<p>4.2 涉及的知识点</p>
<ul>
<li>什么是异步（对比同步）</li>
<li>前端使用异步的场景</li>
<li>异步和单线程</li>
</ul>
<h6 id="5-其它知识"><a href="#5-其它知识" class="headerlink" title="5.其它知识"></a>5.其它知识</h6><p>5.1 题目</p>
<ul>
<li><p>获取 2017-06-10 格式的日期</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatDate</span>(<span class="params">dt</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!dt)&#123;</span><br><span class="line">      <span class="keyword">var</span> dt=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> year=dt.getFullYear();</span><br><span class="line">    <span class="keyword">var</span> month=dt.getMonth()+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> date=dt.getDate();</span><br><span class="line">    <span class="comment">//强制类型转换</span></span><br><span class="line">    <span class="keyword">if</span>(month&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        month=<span class="string">'0'</span>+month;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(date&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        date=<span class="string">'0'</span>+date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> year+<span class="string">'-'</span>+month+<span class="string">'-'</span>+date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>获取随机数，要求是长度一致的字符串格式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> random=(<span class="built_in">Math</span>.random()+<span class="string">'0000000000'</span>).slice(<span class="number">0</span>,<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(random);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>写一个能遍历对象和数组的通用forEach函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forEach</span>(<span class="params">obj,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</span><br><span class="line">        obj.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">            fn(index,item);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            fn(key,obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>5.2 涉及知识点</p>
<ul>
<li><p>日期</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>.now(); <span class="comment">//获取当前时间毫秒数</span></span><br><span class="line"><span class="keyword">var</span> dt=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">dt.getTime();<span class="comment">//获取毫秒数</span></span><br><span class="line">dt.getFullYear();<span class="comment">//年</span></span><br><span class="line">dt.getMonth();<span class="comment">//月（0-11）</span></span><br><span class="line">dt.getDate();<span class="comment">//日（0-31）</span></span><br><span class="line">dt.getHours();<span class="comment">//时（0-23）</span></span><br><span class="line">dt.getMinutes();<span class="comment">//分（0-59）</span></span><br><span class="line">dt.getSeconds();<span class="comment">//秒（0-59）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Math</p>
<ul>
<li>Math.random()</li>
</ul>
</li>
<li><p>对象API</p>
<ul>
<li>for in </li>
</ul>
</li>
<li><p>数组API</p>
<ul>
<li><p>forEach 遍历所有元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index,item);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>every 判断所有元素是否都符合条件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//用来判断数组的所有元素，全部都满足条件</span></span><br><span class="line">    <span class="keyword">if</span>(item&lt;<span class="number">4</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>some 判断是否有至少一个元素符合条件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//用来判断数组的所有元素，只要有一个满足条件即可</span></span><br><span class="line">    <span class="keyword">if</span>(item&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>sort 排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//从小到大排序</span></span><br><span class="line">    <span class="keyword">return</span> a-b;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//从大到小排序</span></span><br><span class="line">    <span class="comment">//return b-a</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>map 对数组重新组装，生成新数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//将元素重新组装，并返回</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;b&gt;'</span>+item+<span class="string">'&lt;/b&gt;'</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//["&lt;b&gt;1&lt;/b&gt;", "&lt;b&gt;2&lt;/b&gt;", "&lt;b&gt;3&lt;/b&gt;", "&lt;b&gt;4&lt;/b&gt;"]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>filter 过滤符合条件的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//通过某一条件过滤数组</span></span><br><span class="line">    <span class="keyword">if</span>(item&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//[2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="二、JS-Web-API"><a href="#二、JS-Web-API" class="headerlink" title="二、JS-Web-API"></a>二、JS-Web-API</h4><h6 id="1-DOM"><a href="#1-DOM" class="headerlink" title="1.DOM"></a>1.DOM</h6><p>1.1 题目</p>
<ul>
<li><p>DOM是哪种基本的数据结构？</p>
<p>树</p>
</li>
<li><p>DOM操作常用的API有哪些？</p>
<ul>
<li>获取DOM节点，以及节点的property和Attribute</li>
<li>获取父节点，获取子节点</li>
<li>新增节点，删除节点</li>
</ul>
</li>
<li><p>DOM节点的attr和property有何区别</p>
<ul>
<li>property只是一个JS对象属性的修改</li>
<li>Attribute是对html标签属性的修改                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
</ul>
</li>
</ul>
<p>1.2 涉及知识点</p>
<ul>
<li><p>DOM(Document Object Model 文档对象模型)本质</p>
<p>浏览器把拿到的html代码，结构化为一个浏览器能识别并且JS可操作的一个模型。</p>
</li>
<li><p>DOM节点操作</p>
<ul>
<li><p>获取DOM节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);<span class="comment">//元素</span></span><br><span class="line"><span class="keyword">var</span> divList=<span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);<span class="comment">//集合</span></span><br><span class="line"><span class="keyword">var</span> containerList=<span class="built_in">document</span>.getElementsByClassName(<span class="string">'.container'</span>);<span class="comment">//集合</span></span><br><span class="line"><span class="keyword">var</span> pList=<span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);<span class="comment">//集合</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>property</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pList=<span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> p=pList[<span class="number">0</span>];<span class="comment">//p本质上是一个JS对象，指向node节点</span></span><br><span class="line"><span class="built_in">console</span>.log(p.style.width);<span class="comment">//获取样式</span></span><br><span class="line">p.style.width=<span class="string">'100px'</span>;<span class="comment">//修改样式</span></span><br><span class="line"><span class="built_in">console</span>.log(p.className);<span class="comment">//获取class</span></span><br><span class="line">p.className=<span class="string">'p1'</span>;<span class="comment">//修改class</span></span><br><span class="line"><span class="comment">//获取nodeName和nodeType</span></span><br><span class="line"><span class="built_in">console</span>.log(p.nodeName);</span><br><span class="line"><span class="built_in">console</span>.log(p.nodeType);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Attribute</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pList=<span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> p=pList[<span class="number">0</span>];</span><br><span class="line">p.getAttribute(<span class="string">'data-name'</span>);</span><br><span class="line">p.setAttribute(<span class="string">'date-name'</span>,<span class="string">'imooc'</span>);</span><br><span class="line">p.getAttribute(<span class="string">'style'</span>);</span><br><span class="line">p.setAttribute(<span class="string">'style'</span>,<span class="string">'font-size:30px;'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>DOM结构操作</p>
<ul>
<li><p>新增节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);</span><br><span class="line"><span class="comment">//添加新节点</span></span><br><span class="line"><span class="keyword">var</span> p1=<span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">p1.innerHTML=<span class="string">"This is p1"</span>;</span><br><span class="line">div1.appendChild(p1);<span class="comment">//添加新创建的元素</span></span><br><span class="line"><span class="comment">//移动已有节点</span></span><br><span class="line"><span class="keyword">var</span> p2=<span class="built_in">document</span>.getElementById(<span class="string">'p2'</span>);</span><br><span class="line">div1.appendChild(p2);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>获取父元素</p>
</li>
<li><p>获取子元素</p>
</li>
<li><p>删除节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);</span><br><span class="line"><span class="keyword">var</span> parent=div1.parentElement;</span><br><span class="line"><span class="keyword">var</span> child=div1.childNodes;</span><br><span class="line">div1.removeChild(child[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="2-BOM"><a href="#2-BOM" class="headerlink" title="2.BOM"></a>2.BOM</h6><p>2.1 题目</p>
<ul>
<li><p>如何检测浏览器的类型</p>
<p>参考下面的navigator</p>
</li>
<li><p>拆解url的各部分</p>
<p>参考下面的location</p>
</li>
</ul>
<p>2.2 涉及的知识点</p>
<ul>
<li><p>navigator</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ua=navigator.userAgent;</span><br><span class="line"><span class="keyword">var</span> isChrome=ua.indexOf(<span class="string">'Chrome'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(isChrome);</span><br></pre></td></tr></table></figure>
</li>
<li><p>screen</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(screen.width);</span><br><span class="line"><span class="built_in">console</span>.log(screen.height);</span><br></pre></td></tr></table></figure>
</li>
<li><p>location</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//针对url</span></span><br><span class="line"><span class="built_in">console</span>.log(location.href);<span class="comment">//完整的url</span></span><br><span class="line"><span class="built_in">console</span>.log(location.host);<span class="comment">//域名</span></span><br><span class="line"><span class="built_in">console</span>.log(location.protocol);<span class="comment">//协议</span></span><br><span class="line"><span class="built_in">console</span>.log(location.pathname);<span class="comment">//除域名和协议外的url部分，是路径</span></span><br><span class="line"><span class="built_in">console</span>.log(location.search);<span class="comment">//？后面的查询字符串，查询参数</span></span><br><span class="line"><span class="built_in">console</span>.log(location.hash);<span class="comment">//# 后面的hash参数</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>history</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">history.forward();</span><br><span class="line">history.back();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="3-事件"><a href="#3-事件" class="headerlink" title="3.事件"></a>3.事件</h6><p>3.1题目</p>
<ul>
<li><p>编写一个通用的事件绑定函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem,type,selector,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fn==<span class="literal">null</span>)&#123;</span><br><span class="line">        fn=selector;</span><br><span class="line">        selector=<span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    elem.addEventListener(type,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> target;</span><br><span class="line">        <span class="keyword">if</span>(selector)&#123;</span><br><span class="line">            target=e.target;</span><br><span class="line">            <span class="keyword">if</span>(target.matches(selector))&#123;</span><br><span class="line">                fn.call(target,e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            fn(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用代理（四参数）</span></span><br><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);</span><br><span class="line">bindEvent(div1,<span class="string">'click'</span>,<span class="string">'a'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.innerHTML);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//不使用代理（三参数）</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="built_in">document</span>.getElementById(<span class="string">'a1'</span>);</span><br><span class="line">bindEvent(div1,<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a.innerHTML);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>描述事件冒泡流程</p>
<ul>
<li>DOM树形结构</li>
<li>事件冒泡</li>
<li>阻止冒泡</li>
<li>冒泡的应用（代理）</li>
</ul>
</li>
<li><p>对于一个无限下拉加载图片的页面，如何给每个图片绑定事件</p>
<ul>
<li>使用代理</li>
<li>知道代理的两个优点</li>
</ul>
</li>
</ul>
<p>3.2 涉及的知识点</p>
<ul>
<li><p>通用事件绑定</p>
</li>
<li><p>事件冒泡</p>
</li>
<li><p>代理</p>
<p>好处：</p>
<ul>
<li>代码简洁（不需要写很多事件绑定）</li>
<li>减少浏览器内存占用（绑定一次事件和绑定一千次是不一样的）</li>
</ul>
<p>原理：事件冒泡</p>
</li>
</ul>
<h6 id="4-Ajax"><a href="#4-Ajax" class="headerlink" title="4.Ajax"></a>4.Ajax</h6><p>4.1 题目</p>
<ul>
<li><p>手动编写一个ajax，不依赖第三方库</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url,fnSucc,fnFail</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//创建oAjax对象（拥有一个手机）</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        <span class="keyword">var</span> oAjax=<span class="keyword">new</span> XMLHttpRequest();<span class="comment">//非IE6</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> oAjax=<span class="keyword">new</span> ActiveXObject(<span class="string">'MicroSoft.XMLHTTP'</span>);<span class="comment">//IE6</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//连接到服务器（拨号)</span></span><br><span class="line">    oAjax.open(<span class="string">"GET"</span>,url,<span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//发送请求（说）</span></span><br><span class="line">    oAjax.send();</span><br><span class="line">    <span class="comment">//接收返回值（听）</span></span><br><span class="line">    oAjax.onreadystatechange=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(oAjax.readyState==<span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(oAjax.status==<span class="number">200</span>)&#123;</span><br><span class="line">                fnSucc(oAjax.responseText);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(fnFail)&#123;</span><br><span class="line">                    fnFail(oAjax.status);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>跨域的几种实现方式</p>
<p>详情见<a href="https://winnie-bear.github.io/2018/05/05/%E8%B7%A8%E5%9F%9F/" target="_blank" rel="noopener">跨域</a>。</p>
</li>
</ul>
<p>4.2 涉及的知识点</p>
<ul>
<li>XMLHttpRequest</li>
<li>readyState(服务器和浏览器，进行到哪一步了，请求状态)<ul>
<li>0 ——未初始化，还没调用open方法，没有连接到服务器 </li>
<li>1——（载入）已调用send()方法，正在发送请求</li>
<li>2——（载入完成）send()方法完成，浏览器已接收到全部响应内容</li>
<li>3——（解析）正在解析响应内容 </li>
<li>4——（完成）响应内容解析完成，还要判断是否解析成功</li>
</ul>
</li>
<li>状态码说明<ul>
<li>2xx  -表示成功处理请求。如：200</li>
<li>3xx  - 表示重定向，浏览器直接跳转</li>
<li>4xx - 客户端请求错误，如404</li>
<li>5xx - 服务端请求错误</li>
</ul>
</li>
<li>跨域<ul>
<li>定义:浏览器有同源策略，不允许 ajax 访问其他域接口</li>
<li>条件：协议、域名、端口，有一个不同就算跨域</li>
<li>有三个标签允许跨域加载资源：<ul>
<li>&lt; img src=xxx&gt;  用于打点统计，统计的网站可能是其他域</li>
<li>&lt; link href=xxx&gt; 可以使用CDN ，CDN也是其他域</li>
<li>&lt; script src=xxx&gt; 可以使用CDN，也可以用于JSONP  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="5-存储"><a href="#5-存储" class="headerlink" title="5.存储"></a>5.存储</h6><p>5.1 题目</p>
<ul>
<li>请描述一下cookie、sessionStorage和localStorage的区别<ul>
<li>容量：前者是4KB，后者是5MB</li>
<li>是否会携带到ajax中：前者是每次http请求都会携带，后者是HTML5专门为存储而设计</li>
<li>API易用性：前者需要封装document.cookie，后者有专门获取和修改的getItem和setItem两个API</li>
</ul>
</li>
</ul>
<p>5.2 涉及的知识点</p>
<ul>
<li><p>cookie</p>
<ul>
<li>本身用于客户端和服务器端通信</li>
<li>但是它有本地存储的功能，于是就被”借用”</li>
<li>使用 document.cookie=… 获取和修改即可(获取的是字符串)</li>
</ul>
<p>缺点：</p>
<ul>
<li>存储量太小，只有4KB</li>
<li>所有 http 请求都带着，会影响获取资源的效率</li>
<li>API简单，需要封装才能用 document.cookie=……</li>
</ul>
</li>
<li><p>locationStorage和sessionStorage</p>
<ul>
<li>HTML5专门为存储而设计，最大容量5M</li>
<li>API简单易用</li>
<li>localStorage.setItem(key,value)；localStorage.getItem(key)</li>
</ul>
<p>建议：</p>
</li>
</ul>
<p>​          统一使用try-catch封装（ios safari 隐藏模式下 localStorage.getItem会报错)</p>
<h4 id="三、JS开发环境"><a href="#三、JS开发环境" class="headerlink" title="三、JS开发环境"></a>三、JS开发环境</h4><h6 id="1-git"><a href="#1-git" class="headerlink" title="1.git"></a>1.git</h6><p>  常用Git命令</p>
<ul>
<li><p>git add .</p>
</li>
<li><p>git status</p>
</li>
<li><p>git diff</p>
</li>
<li><p>git checkout xxx  —还原到改动前</p>
</li>
<li><p>git commit -m “xxx”    —提交到本地仓库</p>
</li>
<li><p>git push origin master   —提交到远程仓库</p>
</li>
<li><p>git pull origin master   —拉取远程仓库master分支上的代码</p>
<p><strong>下列命令常用于多人协作:</strong></p>
</li>
<li><p>git branch  —列出所有的分支</p>
</li>
<li><p>git checkout -b xxx   —创建新的分支，并切换</p>
</li>
<li><p>git checkout xxx —切换分支</p>
</li>
<li><p>git merge xxx   —将当前分支与xxx分支合并。将本地分支与master分支合并之前，要将master分支中最新的代码拉取到本地。</p>
</li>
</ul>
<h6 id="2-模块化"><a href="#2-模块化" class="headerlink" title="2. 模块化"></a>2. 模块化</h6><ul>
<li><p>不使用模块化的情况</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//util.js  getFormatDate函数</span></span><br><span class="line"><span class="comment">//a-util.js aGetFormatDate函数 依赖getFormatDate</span></span><br><span class="line"><span class="comment">//a.js 依赖aGetFormatDate函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//util.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFormatDate</span>(<span class="params">date,type</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//type==1 返回 2019-02-09</span></span><br><span class="line">    <span class="comment">//type==2 返回 2019年2月9日</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a-util.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aGetFormatDate</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//返回 2019年2月9日 格式</span></span><br><span class="line">    <span class="keyword">return</span> getFormatDate(date,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="keyword">var</span> dt=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(aGetFormatDate(dt));</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用,按顺序引用</span></span><br><span class="line">&lt;script src=<span class="string">'util.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script src=<span class="string">'a-util.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script src=<span class="string">'a.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="comment">//这些代码中的函数必须是全局变量，才能暴露给使用方，会造成全局变量污染</span></span><br><span class="line"><span class="comment">//a.js知道要引用a-util.js，但并不知道要引用util.js,依赖关系不明确</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>使用模块化</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//util.js</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    getFormatDate:<span class="function"><span class="keyword">function</span>(<span class="params">date,type</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//type==1 返回 2019-02-09</span></span><br><span class="line">        <span class="comment">//type==2 返回 2019年2月9日</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a-util.js</span></span><br><span class="line"><span class="keyword">var</span> getFormatDate=<span class="built_in">require</span>(<span class="string">'util.js'</span>);</span><br><span class="line"><span class="keyword">export</span>&#123;</span><br><span class="line">    aGetFormatDate:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">         <span class="comment">//返回 2019年2月9日 格式</span></span><br><span class="line">        <span class="keyword">return</span> getFormatDate(date,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="keyword">var</span> aGetFormatDate=<span class="built_in">require</span>(<span class="string">'a-util.js'</span>);</span><br><span class="line"><span class="keyword">var</span> dt=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(aGetFormatDate(dt));</span><br><span class="line"></span><br><span class="line"><span class="comment">//直接&lt;script src='a.js'&gt;&lt;/script&gt; 其他的根据依赖关系自动引用</span></span><br><span class="line"><span class="comment">//输出的两个函数,不需要声明为全局变量，避免了变量污染和覆盖的问题</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>AMD(Asynchronous Module Definition 异步模块定义)</p>
<ul>
<li>require.js</li>
<li>全局 define 函数</li>
<li>全局 require 函数</li>
<li>依赖JS会自动、异步加载</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//util.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getFormatDate:<span class="function"><span class="keyword">function</span>(<span class="params">date,type</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(type===<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">'2019-02-09'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(type===<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">'2019年2月9日'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//a-util.js</span></span><br><span class="line">define([<span class="string">'./util.js'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">util</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        aGetFormatDate:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">           <span class="keyword">return</span> util.getFormatDate(date,<span class="number">2</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//a.js</span></span><br><span class="line">define([<span class="string">'./a-util.js'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">aUtil</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        printDate:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(aUtil.aGetFormatDate(date));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//main.js 入口文件,define过的函数可以require</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'./a.js'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> date=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    a.printDate(date);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用：首先要下载requirejs文件</span></span><br><span class="line">&lt;script src=<span class="string">"./require.js"</span> data-main=<span class="string">'./main.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>CommonJS</p>
<ul>
<li>nodejs 模块化规范，现在被前端大量使用，原因：<ul>
<li>前端开发依赖的插件和库，都可以从 npm 中获取</li>
<li>构建工具的高度自动化，使得使用npm的成本非常低</li>
<li>CommonJS 不会异步加载JS，而是 <strong>同步 </strong>一次性加载出来</li>
</ul>
</li>
<li>需要构建工具支持</li>
<li>一般和 npm 一起使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//util.js</span></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">  getFormatDate:<span class="function"><span class="keyword">function</span>(<span class="params">date,type</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">if</span>(type===<span class="number">1</span>)&#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="string">'2019-02-09'</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span>(type===<span class="number">2</span>)&#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="string">'2019年2月9日'</span></span><br><span class="line">          &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a-util.js</span></span><br><span class="line"><span class="keyword">var</span> util=rquire(<span class="string">'./util.js'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    aGetFormatDate:<span class="function"><span class="keyword">function</span> (<span class="params">date</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> util.getFormatDate(date,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="keyword">var</span> aUtil=<span class="built_in">require</span>(<span class="string">'./a-util'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">  print:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(aUtil.aGetFormatDate(date));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>AMD 和 CommonJS的使用场景</p>
<ul>
<li>需要异步加载JS ，使用AMD</li>
<li>使用了npm 之后建议使用CommonJS</li>
</ul>
</li>
</ul>
<h6 id="3-上线和回滚"><a href="#3-上线和回滚" class="headerlink" title="3.上线和回滚"></a>3.上线和回滚</h6><ul>
<li>上线流程要点<ul>
<li>将测试完成的代码提交到git版本库的master分支</li>
<li>将当前服务器的代码全部打包并记录版本号，备份</li>
<li>将master分支的代码提交覆盖到线上服务器，生成新的版本号</li>
</ul>
</li>
<li>回滚流程要点<ul>
<li>将当前服务器的代码打包并记录版本号，备份</li>
<li>将上一个版本的代码解压，覆盖到线上服务器，并生成新的版本号</li>
</ul>
</li>
</ul>
<h4 id="四、运行环境"><a href="#四、运行环境" class="headerlink" title="四、运行环境"></a>四、运行环境</h4><h6 id="1-页面加载过程"><a href="#1-页面加载过程" class="headerlink" title="1.页面加载过程"></a>1.页面加载过程</h6><p>1.1 题目</p>
<ul>
<li><p>从输入url到得到html的详细过程</p>
<p>见下述知识点中加载一个资源的过程</p>
</li>
<li><p>window.onload 和 DOMContentLoaded 的区别</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//页面的全部资源加载完才会执行，包括图片、视频等</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="comment">//DOM 渲染完即可执行，此时图片、视频还可能没有加载完 </span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>1.2 知识点</p>
<ul>
<li>加载资源的形式<ul>
<li>输入url( 或跳转页面 )加载html</li>
<li>加载html中的静态资源（js、css文件、图片等）</li>
</ul>
</li>
<li>加载一个资源的过程<ul>
<li>浏览器根据 DNS 服务器得到域名的 IP 地址</li>
<li>向这个 IP 的机器发送 http 请求</li>
<li>服务器收到、处理并返回 http 请求</li>
<li>浏览器得到返回内容</li>
</ul>
</li>
<li>浏览器渲染页面的过程<ul>
<li>根据 HTML 结构生成 DOM Tree</li>
<li>根据 CSS 生成 CSSOM</li>
<li>将 DOM Tree 和 CSSOM 整合形成 RenderTree</li>
<li>根据 RenderTree 开始渲染和展示</li>
<li>遇到 &lt; script &gt;时，会执行并阻塞渲染</li>
</ul>
</li>
</ul>
<h6 id="2-性能优化"><a href="#2-性能优化" class="headerlink" title="2.性能优化"></a>2.性能优化</h6><ul>
<li><p>原则</p>
<ul>
<li>多使用内存、缓存或其他方法</li>
<li>减少 CPU 计算、减少网络请求</li>
</ul>
</li>
<li><p>加载资源优化</p>
<ul>
<li>静态资源的压缩合并</li>
<li>静态资源缓存<ul>
<li>通过链接名称控制缓存</li>
<li>只有内容改变的时候，链接名称才会改变</li>
</ul>
</li>
<li>使用CDN(content delivery network) 让资源加载更快</li>
<li>使用 SSR (server side render) 后端渲染，数据直接输出到HTML<ul>
<li>现在 Vue React 提出了这样的概念</li>
<li>早期的 jsp php asp 都属于后端渲染</li>
</ul>
</li>
</ul>
</li>
<li><p>渲染优化</p>
<ul>
<li><p>CSS 放前面，JS放后面</p>
</li>
<li><p>懒加载（图片懒加载、下拉加载更多）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"preview.png"</span> data-realsrc=<span class="string">"abc.png"</span>&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> img1 = <span class="built_in">document</span>.getElementById(<span class="string">'img1'</span>);</span><br><span class="line">    img1.src = img1.getAttribute(<span class="string">'data-realsrc'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/先加载一个体积较小的图片（浏览器可能还有缓存），浏览器渲染会更快</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>减少 DOM 查询，对 DOM 查询做缓存</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//未缓存 DOM 查询</span></span><br><span class="line"><span class="keyword">var</span> i</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>).length;i++)&#123;<span class="comment">//每循环一次就要重新查询一次，性能消耗大</span></span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//缓存了 DOM 查询</span></span><br><span class="line"><span class="keyword">var</span> pList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);<span class="comment">//一次 DOM 查询</span></span><br><span class="line"><span class="keyword">var</span> i ;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pList.length;i++)&#123;</span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>减少 DOM 操作，多个操作尽量合并在一起执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//合并 DOM 插入</span></span><br><span class="line"><span class="keyword">var</span> listNode = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span><br><span class="line"><span class="comment">//要插入 10 个 li 标签，一般情况要进行10次 DOM 插入</span></span><br><span class="line"><span class="keyword">var</span> frag=<span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line"><span class="keyword">var</span> x,li;</span><br><span class="line"><span class="keyword">for</span>(x=<span class="number">0</span>;x&lt;<span class="number">10</span>;x++)&#123;</span><br><span class="line">    li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">    li.innerHTML = <span class="string">"List item"</span> + x;</span><br><span class="line">    frag.appendChild(li);<span class="comment">//这个插入不会触发 DOM 操作</span></span><br><span class="line">&#125;</span><br><span class="line">listNode.appendChild(frag);<span class="comment">//这里触发一次DOM插入</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>事件节流和函数防抖</p>
<ul>
<li><p>防抖    原理：延迟一段时间再执行，如果在延迟的时间内继续触发，会重新计算。</p>
</li>
<li><p>节流    原理：隔一段时间，执行一次。就像水龙头滴一样。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//防抖</span></span><br><span class="line"><span class="keyword">let</span> debounce=<span class="function">(<span class="params">func,delay</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> tId,context,args;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      context=<span class="keyword">this</span>;</span><br><span class="line">      args=[].slice.call(<span class="built_in">arguments</span>,<span class="number">0</span>);</span><br><span class="line">      clearTimeout(tId);</span><br><span class="line">      tId=setTimeout(fuction()&#123;</span><br><span class="line">         func.apply(context,args);             </span><br><span class="line">       &#125;,delay);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//节流</span></span><br><span class="line"><span class="keyword">let</span> throttle=<span class="function">(<span class="params">func,delay</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer=<span class="literal">null</span>,context,args;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        context=<span class="keyword">this</span>;</span><br><span class="line">        args=[].slice.call(<span class="built_in">arguments</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(!timer)&#123;</span><br><span class="line">           timer=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              timer=<span class="literal">null</span>;</span><br><span class="line">              func.apply(context,args);</span><br><span class="line">           &#125;,delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>尽早执行操作（如DOMContentLoaded)</p>
</li>
</ul>
</li>
</ul>
<h6 id="3-安全性"><a href="#3-安全性" class="headerlink" title="3.安全性"></a>3.安全性</h6><ul>
<li><p>XSS (cross site script) 跨站脚本攻击</p>
<ul>
<li><p>简单事例</p>
<ul>
<li>在新浪博客写一篇文章，同时偷偷插入一段&lt; script &gt;。（ 脚本代码中，获取cookie，并发送给攻击者的服务器）</li>
<li>发布博客，有人查看博客内容</li>
<li>会把查看者的 cookie 发送到攻击者的服务器</li>
</ul>
</li>
<li><p>预防方法</p>
<ul>
<li>前端替换关键字，例如替换 &lt; 为 &amp;lt ;  &gt; 为 &amp;gt ;  （影响性能）</li>
<li>后端替换</li>
</ul>
</li>
</ul>
</li>
<li><p>CSRF/XSRF (Cross-site request forgery）跨站请求伪造</p>
<ul>
<li>简单事例<ul>
<li>你已登录一个购物网站，正在浏览商品。该网站的付费接口是 xxx.com/pay?id=100 但是没有任何验证。</li>
<li>然后你收到一封邮件，隐藏着 &lt; img src=”xxx.com/pay?id=100” &gt;。一旦查看邮件，就会向付费接口发送请求。</li>
<li>你查看邮件的时候，就已经悄悄的付费购买了。</li>
</ul>
</li>
<li>预防方法<ul>
<li>增加验证流程，如输入指纹、密码、短信验证码 （后端预防为主）</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="二-JS高级篇"><a href="#二-JS高级篇" class="headerlink" title="(二) JS高级篇"></a>(二) JS高级篇</h3><h4 id="一、ES6"><a href="#一、ES6" class="headerlink" title="一、ES6"></a>一、ES6</h4><p><strong>题目：</strong></p>
<ul>
<li>ES6 模块化如何使用，开发环境如何打包<ul>
<li>语法：import export (注意有无 defult)</li>
<li>环境：babel 编译 ES6语法，模块化可用 webpack 和 rollup</li>
<li>扩展：说一下自己对模块化标准统一的期待</li>
</ul>
</li>
<li>Class 和普通构造函数有何区别<ul>
<li>Class 在语法上更加贴合面向对象的写法</li>
<li>Class 实现继承更加易读、易理解</li>
<li>更易于写 java 等后端语言人员的使用</li>
<li>本质还是语法糖</li>
</ul>
</li>
<li>Promise 的基本使用和原理<ul>
<li>new Promise 实例 ，并且 return</li>
<li>new Promise 时要传入resolve、reject两个参数</li>
<li>成功时执行resolve()   失败时执行reject()</li>
<li>then监听结果</li>
</ul>
</li>
<li>总结一下ES6其他常用功能</li>
</ul>
<h6 id="1-模块化"><a href="#1-模块化" class="headerlink" title="1.模块化"></a>1.模块化</h6><ul>
<li><p>模块化的基本语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//util.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    a:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//util2.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'fn1'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'fn2'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">import</span> util <span class="keyword">from</span> <span class="string">'./util.js'</span></span><br><span class="line"><span class="keyword">import</span> &#123; fn1,fn2 &#125; <span class="keyword">from</span> <span class="string">'./util2.js'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(util);</span><br><span class="line">fn1();</span><br><span class="line">fn2();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>开发环境配置</p>
<ul>
<li>.babelrc</li>
<li>rollup.config.js 或 webpack.config.js ，rollup功能单一，webpack功能强大</li>
</ul>
</li>
<li><p>关于JS众多模块化标准</p>
<ul>
<li>一开始没有模块化</li>
<li>AMD 成为标准，require.js (也有CMD)</li>
<li>前端打包工具，使得nodejs模块化可以被使用（CommonJS)</li>
<li>ES6出现 ，想统一现在所有模块化标准</li>
<li>nodejs 积极支持ES6 ，但浏览器尚未统一，需要babel转译</li>
<li>可以自造lib，但是不要自造标准</li>
</ul>
</li>
</ul>
<h6 id="2-class"><a href="#2-class" class="headerlink" title="2.class"></a>2.class</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Class 语法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MathHandle</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x,y)&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">    &#125;</span><br><span class="line">    add()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.x+<span class="keyword">this</span>.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m=<span class="keyword">new</span> MathHandle(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(m.add());</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> MathHandle <span class="comment">//"function"</span></span><br><span class="line">MathHandle === <span class="built_in">Math</span>.prototype.constructor <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">  &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125; </span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="3-promise"><a href="#3-promise" class="headerlink" title="3.promise"></a>3.promise</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//所有图片都加载完再添加到页面</span></span><br><span class="line"><span class="comment">//加载过程</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> img=<span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">        img.src=src;</span><br><span class="line">        img.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            resolve(img);</span><br><span class="line">        &#125;;</span><br><span class="line">        img.onerror=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            reject();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//展示</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showImgs</span>(<span class="params">imgs</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.info(imgs);</span><br><span class="line">    imgs.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(img);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">    loadImg(<span class="string">'https://i.loli.net/2019/01/25/5c4b30cbd56ec.jpg'</span>),</span><br><span class="line">    loadImg(<span class="string">'https://i.loli.net/2019/01/25/5c4b30cbe101e.jpg'</span>),</span><br><span class="line">    loadImg(<span class="string">'https://i.loli.net/2019/01/25/5c4b30cc8a741.jpg'</span>)</span><br><span class="line">]).then(showImgs);</span><br></pre></td></tr></table></figure>
<h6 id="4-Generator和async"><a href="#4-Generator和async" class="headerlink" title="4.Generator和async"></a>4.Generator和async</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Generator函数与iterator遍历器的关系</span></span><br><span class="line"><span class="keyword">let</span> obj=&#123;&#125;;</span><br><span class="line"><span class="comment">//调用 Generator 函数后，返回的是一个指向内部状态的指针对象，也就是遍历器对象iterator</span></span><br><span class="line">obj[<span class="built_in">Symbol</span>.iterator]=<span class="function"><span class="keyword">function</span>* (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="built_in">Symbol</span>.iterator]().next());</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'value'</span>,value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="5-Proxy和Reflect"><a href="#5-Proxy和Reflect" class="headerlink" title="5.Proxy和Reflect"></a>5.Proxy和Reflect</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validate</span>(<span class="params">target,validator</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(target,&#123;</span><br><span class="line">        _validator:validator,</span><br><span class="line">        set(target,key,value,proxy)&#123;<span class="comment">//返回一个布尔值</span></span><br><span class="line">            <span class="keyword">if</span>(target.hasOwnProperty(key))&#123;</span><br><span class="line">              <span class="keyword">let</span> vali=<span class="keyword">this</span>._validator[key];<span class="comment">//获取当前key的验证函数</span></span><br><span class="line">                <span class="comment">//判断输入的值是否符合验证条件</span></span><br><span class="line">                <span class="keyword">if</span>(vali(value))&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target,key,value,proxy);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`不能设置 <span class="subst">$&#123;value&#125;</span> 到 <span class="subst">$&#123;key&#125;</span>`</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span> 不存在`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="6-decorator"><a href="#6-decorator" class="headerlink" title="6.decorator"></a>6.decorator</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修饰属性</span></span><br><span class="line"><span class="keyword">let</span> readonly=<span class="function"><span class="keyword">function</span>(<span class="params">target,name,descriptor</span>)</span>&#123;</span><br><span class="line">    descriptor.writable=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> descriptor</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    @readonly</span><br><span class="line">    time()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'2019-01-27'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//埋点</span></span><br><span class="line">log=<span class="function">(<span class="params">type</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target,name,descriptor</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> src_method=descriptor.value;</span><br><span class="line">        descriptor.value=<span class="function">(<span class="params">...arg</span>)=&gt;</span>&#123;</span><br><span class="line">            src_method.apply(target,arg);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`log <span class="subst">$&#123;type&#125;</span>`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AD</span></span>&#123;</span><br><span class="line">    @log(<span class="string">'show'</span>)</span><br><span class="line">    show()&#123;</span><br><span class="line">        <span class="built_in">console</span>.info(<span class="string">'ad is show'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    @log(<span class="string">'click'</span>)</span><br><span class="line">    click()&#123;</span><br><span class="line">        <span class="built_in">console</span>.info(<span class="string">'ad is click'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h6 id="7-其他常用功能"><a href="#7-其他常用功能" class="headerlink" title="7.其他常用功能"></a>7.其他常用功能</h6><ul>
<li>let/const</li>
<li>多行字符串/模板变量</li>
<li>解构赋值</li>
<li>块级作用域</li>
<li>函数默认参数</li>
<li>箭头函数</li>
</ul>
<h4 id="二、原型"><a href="#二、原型" class="headerlink" title="二、原型"></a>二、原型</h4><p><strong>题目：</strong></p>
<ul>
<li><p>说一个原型的实际应用</p>
<ul>
<li>描述一下 jquery 如何使用原型</li>
<li>描述一下 zepto 如何使用原型</li>
<li>再结合自己的项目经验，说一个自己开发的例子</li>
</ul>
</li>
<li><p>原型如何体现它的扩展性</p>
<ul>
<li><p>说一下 jquery 和 zepto 的插件机制 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单的插件例子</span></span><br><span class="line">$.fn.getNodeName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[<span class="number">0</span>].nodeName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>扩展到 $.fn  , 好处是：</p>
<ul>
<li>只有$ 会暴露在window全局变量（限制，一般一个库只暴露一个全局变量）</li>
<li>将插件扩展统一到$.fn.xxx这一个接口，方便使用</li>
</ul>
</li>
<li><p>结合自己的开发经验，做过的基于原型的插件</p>
</li>
</ul>
</li>
</ul>
<h6 id="1-jquery-原型实现"><a href="#1-jquery-原型实现" class="headerlink" title="1.jquery 原型实现"></a>1.jquery 原型实现</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 入口函数</span></span><br><span class="line"><span class="keyword">var</span> jQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(selector)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可用于属性扩展</span></span><br><span class="line">jQuery.fn = &#123;</span><br><span class="line">    css: <span class="function"><span class="keyword">function</span> (<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'css'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    html: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'html'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义构造函数</span></span><br><span class="line"><span class="keyword">var</span> init = jQuery.fn.init = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> slice = <span class="built_in">Array</span>.prototype.slice</span><br><span class="line">    <span class="keyword">var</span> dom = slice.call(<span class="built_in">document</span>.querySelectorAll(selector))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i, len = dom ? dom.length : <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">this</span>[i] = dom[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.length = len</span><br><span class="line">    <span class="keyword">this</span>.selector = selector || <span class="string">''</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义原型</span></span><br><span class="line">init.prototype = jQuery.fn</span><br></pre></td></tr></table></figure>
<h6 id="2-zepto-原型实现"><a href="#2-zepto-原型实现" class="headerlink" title="2.zepto 原型实现"></a>2.zepto 原型实现</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//空对象</span></span><br><span class="line"><span class="keyword">var</span> zepto=&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Z</span>(<span class="params">dom,selector</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i,len=dom?dom.length:<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">this</span>[i]=dom[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.length=len;</span><br><span class="line">    <span class="keyword">this</span>.selector=selector || <span class="string">''</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">zepto.Z=<span class="function"><span class="keyword">function</span>(<span class="params">dom,selector</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Z(dom,selector);</span><br><span class="line">&#125;</span><br><span class="line">zepto.init=<span class="function"><span class="keyword">function</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//源码中，这里的处理情况较复杂，因为我们只针对原型，所以做了弱化</span></span><br><span class="line">    <span class="keyword">var</span> slice=<span class="built_in">Array</span>.prototype.slice;</span><br><span class="line">    <span class="keyword">var</span> dom=slice.call(<span class="built_in">document</span>.querySelectorAll(selector));</span><br><span class="line">    <span class="keyword">return</span> zepto.Z(dom,selector);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> $=<span class="function"><span class="keyword">function</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> zepto.init(selector);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.fn=&#123;</span><br><span class="line">    <span class="keyword">constructor</span>:zepto.Z,</span><br><span class="line">    css:function(key,value)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    html:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">zepto.Z.prototype=Z.prototype=$.fn;</span><br></pre></td></tr></table></figure>
<h4 id="三、异步"><a href="#三、异步" class="headerlink" title="三、异步"></a>三、异步</h4><p><strong>题目：</strong></p>
<ul>
<li><p>什么是单线程，和异步有什么关系</p>
<ul>
<li>单线程就是同一时间只能做一件事，两段 JS 不能同时执行</li>
<li>原因是为了避免 DOM 渲染的冲突</li>
<li>异步是一种 “无奈” 的解决方案，仍然存在很多问题<ul>
<li>没按照书写顺序执行，可读性差</li>
<li>callback中不容易模块化</li>
</ul>
</li>
</ul>
</li>
<li><p>什么是event-loop</p>
<p>事件轮询，JS 实现异步的具体解决方案：</p>
<ul>
<li><p>同步代码，直接执行</p>
</li>
<li><p>异步函数先放在 <strong>异步队列</strong> 中</p>
</li>
<li><p>待同步函数执行完毕后，<strong>轮询</strong>执行<strong>异步队列</strong>中的函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">"xxxx"</span>,</span><br><span class="line">    success:<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'a'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'b'</span>)</span><br><span class="line">&#125;,<span class="number">100</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'c'</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'d'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//主进程</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'d'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//异步队列</span></span><br><span class="line"><span class="comment">//立刻被放入</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'c'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//100ms 之后被放入</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'b'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ajax 加载完成时放入</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'a'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li>是否用过 jQuery的deferred</li>
</ul>
<ul>
<li>Promise的基本使用和原理</li>
</ul>
<ul>
<li>介绍一下 async/await (和Promise 的区别、联系)</li>
</ul>
<ul>
<li>总结一下当前 JS 解决异步的方案</li>
</ul>
<h4 id="四、virtual-dom（虚拟DOM）"><a href="#四、virtual-dom（虚拟DOM）" class="headerlink" title="四、virtual dom（虚拟DOM）"></a>四、virtual dom（虚拟DOM）</h4><p><strong>题目：</strong></p>
<ul>
<li><p>vdom是什么？为何会存在vdom?</p>
<p>   vdom是用 JS 模拟DOM结构，存在原因：</p>
<ul>
<li>DOM 操作非常”昂贵”</li>
<li>将DOM操作放在JS层，提高效率</li>
</ul>
</li>
<li><p>vdom如何应用，核心API是什么？</p>
<p>可用snabbdom的用法来举例，核心API：h函数、patch函数</p>
</li>
<li><p>介绍一下diff算法</p>
<ul>
<li><p>什么是 diff 算法  </p>
<p>linux的基础命令</p>
</li>
<li><p>去繁就简</p>
<p>关注核心流程</p>
</li>
<li><p>vdom 为何用 diff 算法</p>
<ul>
<li><p>DOM 操作是”昂贵”的，因此要尽量减少 DOM 操作</p>
</li>
<li><p>找出本次DOM必须更新的节点来更新，其他的不更新</p>
</li>
<li>这个”找出”的过程，就需要 diff 算法</li>
</ul>
</li>
<li><p>diff 算法的实现流程</p>
<ul>
<li>patch(container,vnode)  —&gt;  核心函数 createElement </li>
<li>patch(vnode,newVnode) —&gt; 核心函数 updateChildren</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="1-设计一个需求场景"><a href="#1-设计一个需求场景" class="headerlink" title="1.设计一个需求场景"></a>1.设计一个需求场景</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.将以下数据展示成一个表格  2.随便修改数据中的一个信息，表格也随着修改</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'张三'</span>,</span><br><span class="line">        age: <span class="string">'20'</span>,</span><br><span class="line">        address: <span class="string">'北京'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'李四'</span>,</span><br><span class="line">        age: <span class="string">'21'</span>,</span><br><span class="line">        address: <span class="string">'上海'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'王五'</span>,</span><br><span class="line">        age: <span class="string">'22'</span>,</span><br><span class="line">        address: <span class="string">'广州'</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"><span class="comment">/* jquery 实现 */</span></span><br><span class="line"><span class="comment">//渲染函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $container=$(<span class="string">'#container'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//清空容器</span></span><br><span class="line">    $container.html(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拼接table</span></span><br><span class="line">    <span class="keyword">var</span> $table=$(<span class="string">'&lt;table&gt;'</span>);</span><br><span class="line">    $table.append($(<span class="string">'&lt;tr&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt;age&lt;/td&gt;&lt;td&gt;address&lt;/td&gt;/tr&gt;'</span>));</span><br><span class="line">    data.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        $table.append($(<span class="string">'&lt;tr&gt;&lt;td&gt;'</span> + item.name + <span class="string">'&lt;/td&gt;&lt;td&gt;'</span> + item.age + <span class="string">'&lt;/td&gt;&lt;td&gt;'</span> + item.address + <span class="string">'&lt;/td&gt;/tr&gt;'</span>));</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加到页面</span></span><br><span class="line">    $container.append($table);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'#btn-change'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    data[<span class="number">1</span>].age= <span class="number">30</span>;</span><br><span class="line">    data[<span class="number">2</span>].address=<span class="string">'深圳'</span></span><br><span class="line">    <span class="comment">//改变以后，再次渲染</span></span><br><span class="line">    render(data);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//初次渲染</span></span><br><span class="line">render(data);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* snabbdom 实现 */</span></span><br><span class="line"><span class="keyword">var</span> snabbdom=<span class="built_in">window</span>.snabbdom;</span><br><span class="line"><span class="comment">//定义 patch</span></span><br><span class="line"><span class="keyword">var</span> patch=snabbdom.init([</span><br><span class="line">    snabbdom_class,</span><br><span class="line">    snabbdom_props,</span><br><span class="line">    snabbdom_style,</span><br><span class="line">    snabbdom_eventlisteners</span><br><span class="line">]);</span><br><span class="line"><span class="comment">//定义关键函数 h</span></span><br><span class="line"><span class="keyword">var</span> h=snabbdom.h;</span><br><span class="line"><span class="comment">//渲染函数</span></span><br><span class="line"><span class="keyword">var</span> vnode;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newVnode=h(<span class="string">'table'</span>,&#123;&#125;,data.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> tds=[];</span><br><span class="line">        <span class="keyword">var</span> key;</span><br><span class="line">        <span class="keyword">for</span>(key <span class="keyword">in</span> item)&#123;</span><br><span class="line">            <span class="keyword">if</span>(item.hasOwnProperty(key))&#123;</span><br><span class="line">                tds.push(h(<span class="string">'td'</span>,&#123;&#125;,item[key]+<span class="string">''</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> h(<span class="string">'tr'</span>,&#123;&#125;,tds);</span><br><span class="line">    &#125;));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(vnode)&#123;</span><br><span class="line">        <span class="comment">//re-render</span></span><br><span class="line">        patch(vnode,newVnode);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//初次渲染</span></span><br><span class="line">        patch(container,newVnode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//存储当前 vnode 结果</span></span><br><span class="line">    vnode=newVnode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//初次渲染</span></span><br><span class="line">render(data);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> btnChange=<span class="built_in">document</span>.getElementById(<span class="string">'btn-change'</span>);</span><br><span class="line">btnChange.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    data[<span class="number">1</span>].age = <span class="number">30</span></span><br><span class="line">    data[<span class="number">2</span>].address = <span class="string">'深圳'</span></span><br><span class="line">    <span class="comment">//re-render</span></span><br><span class="line">    render(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h6 id="2-patch-container-vnode-和patch-vnode-newVnode-核心实现"><a href="#2-patch-container-vnode-和patch-vnode-newVnode-核心实现" class="headerlink" title="2.patch(container,vnode)和patch(vnode,newVnode)核心实现"></a>2.patch(container,vnode)和patch(vnode,newVnode)核心实现</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vnode -&gt; 真实dom节点</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">vnode</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取vnode上的属性</span></span><br><span class="line">    <span class="keyword">var</span> tag=vnode.tag;</span><br><span class="line">    <span class="keyword">var</span> attrs=vnode.attrs || &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> children=vnode.children || [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建真实的 DOM 元素</span></span><br><span class="line">    <span class="keyword">var</span> elem=<span class="built_in">document</span>.createElement(tag);</span><br><span class="line">    <span class="comment">// 给标签添加属性</span></span><br><span class="line">    <span class="keyword">var</span> attrName</span><br><span class="line">    <span class="keyword">for</span>(attrName <span class="keyword">in</span> attrs)&#123;</span><br><span class="line">        elem.setAttribute(attrName,attrs[attrName]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加标签下面的子元素</span></span><br><span class="line">    children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">childVnode</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//添加的是真实 DOM 元素而非虚拟的 vnode</span></span><br><span class="line">        elem.appendChild(createElement(childVnode));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//返回真实的 DOM 元素</span></span><br><span class="line">    <span class="keyword">return</span> elem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//两个虚拟dom的对比和更新</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateChildren</span>(<span class="params">vnode,newVnode</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> children=vnode.children || [];</span><br><span class="line">    <span class="keyword">var</span> newChildren=newVnode.children || [];</span><br><span class="line"></span><br><span class="line">    children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">childVnode,index</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> newChildVnode=newChildren[index];</span><br><span class="line">        <span class="keyword">if</span>(childVnode.tag === newChildVnode.tag)&#123;</span><br><span class="line">            <span class="comment">//假设tag、属性等相同，进入深层对比，递归</span></span><br><span class="line">            updateChildren(childVnode,newChildVnode)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//不相同直接替换</span></span><br><span class="line">            replaceNode(childVnode,newChildVnode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceNode</span>(<span class="params">vnode,newVnode</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> elem=vnode.elem; <span class="comment">//真实的 DOM 节点</span></span><br><span class="line">    <span class="keyword">var</span> newElen=createElement(newVnode);</span><br><span class="line">    <span class="comment">// 节点替换</span></span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="五、MVVM-和-Vue"><a href="#五、MVVM-和-Vue" class="headerlink" title="五、MVVM 和 Vue"></a>五、MVVM 和 Vue</h4><p><strong>题目：</strong></p>
<ul>
<li><p>说一下使用 jQuery 和使用框架的区别</p>
<ul>
<li>数据和视图的分离，解耦（开放封闭原则：对扩展开放，对修改封闭）<ul>
<li>jQuery 数据和视图没有分离；vue 数据和视图分离</li>
</ul>
</li>
<li>以数据驱动视图，只关心数据变化，DOM 操作被封装<ul>
<li>vue 以数据驱动视图，并没有操作DOM；jQuery则相反</li>
</ul>
</li>
</ul>
</li>
<li><p>说一下对MVVM的理解</p>
<ul>
<li><p>MVC(M-Model  V-View C-Controller)</p>
<ul>
<li>M - Model 数据</li>
<li>V - View 视图、界面</li>
<li>C - Controller 控制器、逻辑处理</li>
</ul>
<center class="half"><br><img src="https://i.loli.net/2019/02/13/5c643946ca618.png" width="300" height="240"><img src="https://i.loli.net/2019/02/13/5c643946cad70.png" width="300" height="240"><br></center>


</li>
</ul>
</li>
</ul>
<ul>
<li><p>MVVM(M-Model V-View VM-ViewModel)</p>
<ul>
<li>Model - 模型、数据</li>
<li>View - 视图、模板（视图和模型是分离的）</li>
<li>ViewModel - 连接 Model 和 View </li>
</ul>
<p><img src="https://i.loli.net/2019/02/13/5c643947178e1.png" alt="MVVM"></p>
<p>三者之间的联系，以及对应到示例代码：</p>
<p><img src="https://i.loli.net/2019/02/13/5c643a9a4f733.png" alt="关于ViewModel"></p>
</li>
</ul>
<pre><code>**MVVM/Vue三要素:**

* 响应式：vue 如何监听到data中每个属性的变化？
* 模板引擎：vue的模板如何被解析，指令如何处理？
* 渲染：vue的模板如何被渲染成html？以及渲染过程
</code></pre><ul>
<li><p>vue 中如何实现响应式</p>
<ul>
<li>关键是理解 Object.defineProperty</li>
<li>将 data 的属性代理到 vm 上</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm=&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> data=&#123;</span><br><span class="line">    name:<span class="string">"winnie"</span>,</span><br><span class="line">    age:<span class="number">20</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> key,value;</span><br><span class="line"><span class="keyword">for</span>(key <span class="keyword">in</span> data)&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(vm,key,&#123;</span><br><span class="line">            get:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'get'</span>,data[key]);</span><br><span class="line">                <span class="keyword">return</span> data[key];</span><br><span class="line">            &#125;,</span><br><span class="line">            set:<span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'set'</span>,newVal);</span><br><span class="line">                data[key]=newVal;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)(key)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>vue中如何解析模板</p>
<ul>
<li><p>模板：本质上是一段字符串，与 html 格式很像，但有很大区别，不过最终还是转换为html来显示。有逻辑( 如  v-if  v-for )，嵌入JS变量……</p>
</li>
<li><p>模板必须转换为 JS 代码，原因如下：</p>
<ul>
<li>有逻辑（v-if v-for），必须用 js 才能实现（图灵完备）</li>
<li>转换为 html  渲染页面，必须用 JS才能实现（JS可以操作DOM）</li>
</ul>
<p>因此，模板最终转换成一个JS函数（render函数）</p>
</li>
<li><p>render 函数 ，函数执行返回 vnode  ——&gt; 类比 snabbdom 中的 h函数</p>
</li>
<li><p>updateComponent   ——&gt;类比snabbdom中的 patch 函数</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模板</span></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;price&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//render 函数,执行之后返回的是vnode</span></span><br><span class="line"><span class="keyword">with</span>(<span class="keyword">this</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> _c(</span><br><span class="line">       <span class="string">'div'</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            attrs:&#123;<span class="string">"id"</span>:<span class="string">"app"</span>&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        [</span><br><span class="line">            _c(<span class="string">'p'</span>,[_v(_s(price))])</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* this 即 vm ，price 即 this.price 也即 vm.price ,即 data 中的 price ,_c 即 this._c 即 vm._c */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// vm._c 比较 snabbdom中 h 函数的写法</span></span><br><span class="line"><span class="keyword">var</span> vnode=h(<span class="string">'ul#list'</span>,&#123;&#125;,[</span><br><span class="line">    h(<span class="string">'li.item'</span>,&#123;&#125;,<span class="string">'Item 1'</span>),</span><br><span class="line">    h(<span class="string">'li.item'</span>,&#123;&#125;,<span class="string">'Item 2'</span>)</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment">//updateComponent 和 patch 函数</span></span><br><span class="line">vm._update(vnode)&#123;</span><br><span class="line">    <span class="keyword">const</span> preVnode=vm._vnode;</span><br><span class="line">    vm._vnode=vnode;</span><br><span class="line">    <span class="keyword">if</span>(!preVnode)&#123;</span><br><span class="line">        vm.$el=vm.__patch__(vm.$el,vnode); <span class="comment">//snadddom 中 patch(container,vode)</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        vm.$el=vm.__patch__(preVnode,vnode); <span class="comment">//snadddom 中 patch(vnode,newVnode)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateComponent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// vm._render 即上述的 render 函数，返回 vnode</span></span><br><span class="line">    vm._update(vm._render())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>vue的整个实现流程 (关键点：render 函数/h函数、Object.defineProperty、updateComponent/patch 函数)</p>
<ul>
<li><p>第一步：解析模板成 render 函数</p>
<ul>
<li><p>with 的用法</p>
</li>
<li><p>模板中的所有信息都被render 函数包含</p>
</li>
<li>模板中用到的data 中的属性，都变成了JS 变量</li>
<li>模板中的 v-model  v-for  v-on 都变成了JS 逻辑</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模板</span></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input v-model=<span class="string">"title"</span>&gt;</span><br><span class="line">      &lt;button v-on:click=<span class="string">"add"</span>&gt;submit&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">       &lt;ul&gt;</span><br><span class="line">            &lt;li v-<span class="keyword">for</span>=<span class="string">"item in list"</span>&gt;&#123;&#123;item&#125;&#125;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">       &lt;/u</span>l&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//render 函数 ，返回 vnode</span></span><br><span class="line"><span class="keyword">with</span>(<span class="keyword">this</span>)&#123;  <span class="comment">// this 就是 vm</span></span><br><span class="line">    <span class="keyword">return</span> _c(</span><br><span class="line">        <span class="string">'div'</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            attrs:&#123;<span class="string">"id"</span>:<span class="string">"app"</span>&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        [</span><br><span class="line">            _c(</span><br><span class="line">                <span class="string">'div'</span>,</span><br><span class="line">                [</span><br><span class="line">                    _c(</span><br><span class="line">                        <span class="string">'input'</span>,</span><br><span class="line">                        &#123;</span><br><span class="line">                            directives:[</span><br><span class="line">                                &#123;</span><br><span class="line">                                    name:<span class="string">"model"</span>,</span><br><span class="line">                                    rawName:<span class="string">"v-model"</span>,</span><br><span class="line">                                    value:(title),</span><br><span class="line">                                    expression:<span class="string">"title"</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            ],</span><br><span class="line">                            domProps:&#123;</span><br><span class="line">                                <span class="string">"value"</span>:(title)</span><br><span class="line">                            &#125;,</span><br><span class="line">                            on:&#123;</span><br><span class="line">                                <span class="string">"input"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">$event</span>)</span>&#123;</span><br><span class="line">                                    <span class="keyword">if</span>($event.target.composing)<span class="keyword">return</span>;</span><br><span class="line">                                    title=$event.target.value</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    ),</span><br><span class="line">                    _v(<span class="string">" "</span>),</span><br><span class="line">                    _c(</span><br><span class="line">                        <span class="string">'button'</span>,</span><br><span class="line">                        &#123;</span><br><span class="line">                            on:&#123;</span><br><span class="line">                                <span class="string">"click"</span>:add</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        [_v(<span class="string">"submit"</span>)]</span><br><span class="line">                    )</span><br><span class="line">                ]</span><br><span class="line">            ),</span><br><span class="line">            _v(<span class="string">" "</span>),</span><br><span class="line">            _c(<span class="string">'div'</span>,</span><br><span class="line">               [</span><br><span class="line">                _c(</span><br><span class="line">                    <span class="string">'ul'</span>,</span><br><span class="line">                    _l((list),<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;<span class="keyword">return</span> _c(<span class="string">'li'</span>,[_v(_s(item))])&#125;)</span><br><span class="line">                )</span><br><span class="line">            ]</span><br><span class="line">              )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第二步：响应式开始监听</p>
<ul>
<li>Object.defineProperty</li>
<li>将 data 的属性代理到vm上</li>
<li>双向数据绑定就是既有 get 又有 set</li>
</ul>
</li>
<li><p>第三步：首次渲染，显示页面，且绑定依赖</p>
<ul>
<li>初次渲染，执行updateComponent，执行 vm._render()</li>
<li>执行 render 函数，会访问到 vm.list vm.title(vm中的属性)，并且返回vnode</li>
<li>访问 vm 中的属性 会被响应式的 get 方法监听到</li>
<li>执行updateComponent，会走到 vdom 的patch方法</li>
<li>patch 方法将 vnode 渲染成真实的DOM，初次渲染完成    [  patch(container,vnode）的核心函数是createElement ，功能是将vnode转换为真实dom节点 ]</li>
</ul>
<p><strong>为何要监听get ，直接监听set 不行吗？</strong></p>
<ul>
<li>data中有很多属性，有些会被用到，有些可能不会被用到。</li>
<li>被用到的会走到get，不被用到的不会走到get。</li>
<li>未走到 get 的属性，set的时候我们也无需关心，可以<strong>避免不必要的重复渲染</strong>。</li>
</ul>
</li>
<li><p>第四步：data 属性变化，触发 rerender</p>
<ul>
<li>修改属性，会被响应式的set监听到</li>
<li>set 中执行 updateComponent ,重新执行 vm.render()   ——&gt;异步</li>
<li>生成的 vnode 和 preVnode,通过 patch 进行对比     [ patch(vnode,newVnode) 核心函数 updateChildren ，功能是两个虚拟dom的对比和更新 ]</li>
<li>渲染到html中   (不相同的部分直接替换)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="六、React-和-组件化"><a href="#六、React-和-组件化" class="headerlink" title="六、React 和 组件化"></a>六、React 和 组件化</h4><p><strong>题目：</strong></p>
<ul>
<li><p>说一下对组件化的理解</p>
<ul>
<li>组件的封装：封装视图 ( JSX )、数据( this.state )、变化逻辑( this.setState(…) )</li>
<li>组件的复用：props传递、复用</li>
</ul>
</li>
<li><p>JSX 本质是什么</p>
<ul>
<li>JSX 本质上为我们提供了创建React元素方法的语法糖<ul>
<li>React.createElement(‘div’,{ id:’div1’ },child1,child2,child3)</li>
<li>React.createElement(‘div’,{ id:’div1’ },[…])</li>
</ul>
</li>
<li>JSX 需要被解析成 JS 才能在浏览器中运行(  JSX 要转换成  JS  代码，最终这个代码要生成 vnode)   ——&gt; 类比Vue中的模板需要被转换成一个JS函数( render 函数 )</li>
<li>JSX 是独立的标准，可被其他项目使用（比如Preact）</li>
</ul>
</li>
<li><p>JSX 和 vdom 的关系</p>
<ul>
<li><p>JSX 是React.createElement 方法的语法糖，该方法返回一个记录了某个DOM节点所有信息的对象（vnode)。换言之，通过它我们就可以生成真正的DOM，这个记录信息的对象我们称之为<strong>虚拟DOM</strong>。</p>
</li>
<li><p>为何需要 vdom</p>
<ul>
<li><p>vdom 是 React 初次推广开来的，结合 JSX</p>
</li>
<li><p>JSX 就是模板，最终要渲染成 html</p>
</li>
<li>初次渲染 + 修改 state 后的 re-render</li>
<li>正好符合 vdom 的应用场景：数据和视图分离、数据驱动视图</li>
</ul>
</li>
<li><p>React.createElement 和 h,都生成 vnode</p>
</li>
<li><p>何时应用 vdom 中的 patch 函数：ReactDOM.render(…) 和 setState</p>
</li>
<li><p>自定义组件的解析：先初始化实例，然后执行实例的render方法</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;Input addTitle=&#123;<span class="keyword">this</span>.addTitle.bind(<span class="keyword">this</span>)&#125;/&gt;</span><br><span class="line">    &lt;List data=&#123;<span class="keyword">this</span>.state.list&#125;/&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>*</span><br><span class="line"> React.createElement(</span><br><span class="line">     <span class="string">"div"</span>,</span><br><span class="line">      <span class="literal">null</span>,</span><br><span class="line">      React.createElement(Input, &#123; <span class="attr">addTitle</span>:<span class="keyword">this</span>.addTitle.bind(<span class="keyword">this</span>) &#125;),</span><br><span class="line">      React.createElement(List, &#123; <span class="attr">data</span>: <span class="keyword">this</span>.state.list &#125;)</span><br><span class="line">  );</span><br><span class="line">*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ React.createElement(List, &#123; data: this.state.list &#125;)</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ var list = new List(&#123; data: this.state.list &#125;)</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ var vnode = list.render()</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>说一下 setState 的过程</p>
<ul>
<li><p>setState 是异步的</p>
<ul>
<li>你无法规定或者限制用户如何使用 setState，可能出现一次执行多次setState，没必要每次都重新渲染，降低性能</li>
<li>即便是每次都重新渲染，用户也看不到中间效果，只看到最终结果</li>
</ul>
</li>
<li><p>setState 的过程</p>
<ul>
<li>每个组件实例，都有 renderComponent 方法。因为每个组件都继承了 Component这个父类，此类中包含 renderComponent 方法。</li>
<li>执行 renderComponent 方法时，会重新执行实例的 render 方法</li>
<li>render 函数返回newVnode ,然后拿到 preVnode</li>
<li>最后，执行patch(preVnode,newVnode)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模拟 renderComponent</span></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    renderComponent() &#123;</span><br><span class="line">        <span class="keyword">const</span> newVnode = <span class="keyword">this</span>.render()</span><br><span class="line">        <span class="keyword">const</span> preVnode = <span class="keyword">this</span>._vnode</span><br><span class="line">        patch(prevVnode, newVnode)</span><br><span class="line">        <span class="keyword">this</span>._vnode = newVnode</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>阐述自己对 React 和 Vue 的认识</p>
<ul>
<li>两者的本质区别<ul>
<li>Vue—本质是 MVVM 框架，由 MVC 发展而来</li>
<li>React— 本质是前端组件化框架，由后端组件化发展而来</li>
</ul>
</li>
<li>模板和组件化的区别<ul>
<li>Vue 使用模板，React 使用JSX</li>
<li>React 本身就是组件化，没有组件化就不是React</li>
<li>Vue 也支持组件化，不过是在 MVVM 上的扩展</li>
</ul>
</li>
<li>两者共同点<ul>
<li>都支持组件化</li>
<li>都是数据驱动视图（只关心数据的变化，DOM操作被封装）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="七、hybrid"><a href="#七、hybrid" class="headerlink" title="七、hybrid"></a>七、hybrid</h4><hr>
<h3 id="三-全面篇"><a href="#三-全面篇" class="headerlink" title="(三)全面篇"></a>(三)全面篇</h3><h4 id="一、一面-二面"><a href="#一、一面-二面" class="headerlink" title="一、一面/二面"></a>一、一面/二面</h4><h6 id="1-页面布局"><a href="#1-页面布局" class="headerlink" title="1.页面布局"></a>1.页面布局</h6><p><strong>题目：</strong></p>
<p>假设高度已知，请写出三栏布局，其中左栏、右栏宽度各为300px,中间自适应</p>
<ul>
<li><p>解决方案</p>
<p>代码详情见 <a href="https://github.com/Winnie-bear/adaptive-layout">自适应布局</a></p>
</li>
<li><p>扩展延伸</p>
<ul>
<li>七种方案的优缺点<ul>
<li>浮动布局 <ul>
<li>局限性：浮动元素是脱离文档流，需要清除浮动，这个处理不好的话，会带来很多问题，比如高度塌陷等</li>
<li>优点：比较简单，兼容性也较好</li>
</ul>
</li>
<li>绝对定位布局<ul>
<li>局限性：绝对定位是脱离文档流的，意味着下面的所有子元素也会脱离文档流，这就导致了这种方法的有效性和可使用性是比较差的</li>
<li>优点：快捷方便，而且也不容易出问题</li>
</ul>
</li>
<li>flex 布局<ul>
<li>局限性：不能兼容IE8及以下浏览器</li>
<li>优点：CSS3新出的布局方式，是为了解决上述两种布局方式的不足而出现的，是比较完美的。而且移动端的布局也常用flexbox</li>
</ul>
</li>
<li>表格布局<ul>
<li>局限性：当其中一个单元格高度超出的时候，两侧的单元格也是会跟着一起变高，而这种效果有时候不是我们想要的</li>
<li>优点：兼容性很好，在flex布局不兼容时，可以尝试表格布局</li>
</ul>
</li>
<li>grid 布局<ul>
<li>局限性：只支持高版本的浏览器；grid某些属性不易懂</li>
<li>优点：真正的 css 框架，和 flex 相比，它是二维的，而 flex 是一维的；做大布局使用，grid-gap 属性非常好用</li>
</ul>
</li>
<li>圣杯布局 VS 双飞翼布局<ul>
<li>布局要求(相同点)：<ul>
<li>三列布局，中间宽度自适应，两边定宽</li>
<li>中间栏要在浏览器中优先展示渲染</li>
<li>允许任意列的高度最高</li>
</ul>
</li>
<li>不同点：<ul>
<li>圣杯布局：借助的是非主要元素(left、right)覆盖了其父元素(container)的padding值所占据的宽度。也就是，同一个杯子，非主要元素只是占据了全部容器的padding值部分</li>
<li>双飞翼布局：给中间部分(center)添加一个外层元素(container)，非主要元素(left、right)所占据的空间是主要部分(center)的margin空间。也就是，像鸟的两个翅膀，与主要部分脱离</li>
</ul>
</li>
<li>优缺点：<ul>
<li>缺点：最好设置页面最小宽度，要不然当页面缩放到一定程度时，页面布局会被破坏，影响浏览</li>
<li>优点：允许任意列的高度最高，比表格布局灵活性高</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>当中间部分内容超出已知高度时，哪些方案可以正常显示<ul>
<li>grid布局、flex布局、table布局、绝对定位布局、圣杯布局、双飞翼布局</li>
<li>前三者是三个部分的高度一起增加，flex布局和grid布局可以分别通过设置align-items为flex-start、start解决；后三者是只有中间部分高度变高，两侧高度不受影响</li>
</ul>
</li>
</ul>
</li>
<li><p>页面布局的变通</p>
<ul>
<li>三栏布局<ul>
<li>左右宽度固定，中间自适应</li>
<li>上下高度固定，中间自适应</li>
</ul>
</li>
<li>两栏布局<ul>
<li>左宽度固定，右自适应</li>
<li>右宽度固定，左自适应</li>
<li>上高度固定，下自适应</li>
<li>下高度固定，上自适应</li>
</ul>
</li>
</ul>
</li>
<li><p>小结</p>
<ul>
<li>语义化掌握到位</li>
<li>页面布局理解深刻</li>
<li>CSS基础知识扎实</li>
<li>思维灵活且积极上进</li>
<li>代码书写规范</li>
</ul>
</li>
</ul>
<h6 id="2-CSS盒模型"><a href="#2-CSS盒模型" class="headerlink" title="2.CSS盒模型"></a>2.CSS盒模型</h6><p><strong>题目：</strong></p>
<p>谈谈你对CSS盒模型的认识？</p>
<ul>
<li>概念和分类<ul>
<li>CSS盒模型就是一个盒子，封装周围的HTML元素，它包括内容content、边框border、内边距 padding、外边距margin</li>
<li>CSS盒模型分为标准模型和IE模型</li>
</ul>
</li>
<li><p>标准模型和IE模型的区别</p>
<ul>
<li>标准模型：width=内容content的宽度（默认) ;   设置方式为 box-sizing:content-box</li>
<li>IE模型：width=内容 content+内边距 padding+边框 border 的宽度 ；设置方式 为box-sizing:border-box</li>
</ul>
</li>
<li><p>通过js如何获取盒模型的宽高</p>
<ul>
<li>dom.style.width/height   只能获取到dom的内联样式</li>
<li>dom.currentStyle.width/height  获取到的是dom实际宽高，但这种方式只在IE中可以使用</li>
<li>window.getComputedStyle(dom,null).width/height   获取到的是dom实际宽高，但是不支持IE</li>
<li>dom.offsetWidth/offsetHeight  最常用的，兼容性最好</li>
<li>dom.getBoundingClientRect().width/height   计算dom的绝对位置，根据视窗左上角对应位置的绝对位置，可以拿到四个值：left、top、width、height</li>
</ul>
</li>
<li><p>实例题（根据盒模型解释边距重叠）</p>
<ul>
<li>边距重叠：指两个或多个盒子相邻边界重合在一起形成一个边界。水平方向边界不会重叠，垂直方向会重叠，垂直方向的实际边界是边界中的最大值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;section <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span> id=<span class="string">"sec"</span>&gt;</span><br><span class="line">    &lt;style media=<span class="string">"screen"</span>&gt;</span><br><span class="line">     #sec&#123;</span><br><span class="line">        background: #f00;</span><br><span class="line">     &#125;</span><br><span class="line">    .child&#123;</span><br><span class="line">        height: <span class="number">100</span>px;</span><br><span class="line">        margin-top: <span class="number">10</span>px;</span><br><span class="line">        background: yellow</span><br><span class="line">      &#125;</span><br><span class="line">     &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">     &lt;article class="child"&gt;&lt;/</span>article&gt;</span><br><span class="line">&lt;<span class="regexp">/section&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>BFC（边距重叠解决方案）</p>
<ul>
<li><p>BFC的基本概念</p>
<p>Block Formatting context,块级格式化上下文</p>
</li>
<li><p>BFC的原理（BFC的渲染原则）</p>
<ul>
<li>属于同一个BFC的两个相邻box的margin会在垂直方向上发生重叠</li>
<li>BFC区域不会与float box重叠   ——&gt;自适应两栏布局</li>
<li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素</li>
<li>计算BFC的高度时，浮动元素也参与计算   ——&gt;清除内部浮动，防止高度塌陷</li>
</ul>
<p><strong>补充：</strong></p>
<p>​     BFC内部的元素和外部的元素绝对不会互相影响，因此，当BFC外部存在浮动时，它不应该影响BFC内部Box的布局，BFC会通过变窄，而不与浮动有重叠。同样的，当BFC内部有浮动时，为了不影响外部元素的布局，BFC计算高度时会包括浮动的高度</p>
</li>
<li><p>如何创建BFC</p>
<ul>
<li>脱离文档流：float不为none;position为absolute或fixed</li>
<li>overflow不为visible (hidden,auto,scroll)</li>
<li>display为”table-cell”,”table-caption”,”inline-block”,”flex”等</li>
</ul>
</li>
<li><p>BFC的使用场景</p>
<ul>
<li>自适应两栏布局</li>
<li>清除内部浮动</li>
<li>防止垂直margin重叠</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="3-DOM事件"><a href="#3-DOM事件" class="headerlink" title="3.DOM事件"></a>3.DOM事件</h6><h6 id="4-HTTP协议类"><a href="#4-HTTP协议类" class="headerlink" title="4.HTTP协议类"></a>4.HTTP协议类</h6><ul>
<li>HTTP协议的主要特点<ul>
<li>简单快速</li>
<li>灵活</li>
<li>无连接</li>
<li>无状态</li>
</ul>
</li>
<li>HTTP报文的组成部分</li>
<li>HTTP方法<ul>
<li>GET   获取资源</li>
<li>POST   传输资源</li>
<li>PUT    更新资源</li>
<li>DELETE    删除资源</li>
<li>HEAD   获得报文首部</li>
</ul>
</li>
<li>POST和GET的区别</li>
</ul>
<ul>
<li>HTTP状态码</li>
</ul>
<ul>
<li>什么是持久连接</li>
</ul>
<ul>
<li>什么是管线化</li>
</ul>
<h6 id="5-原型链"><a href="#5-原型链" class="headerlink" title="5.原型链"></a>5.原型链</h6><h6 id="6-面向对象"><a href="#6-面向对象" class="headerlink" title="6.面向对象"></a>6.面向对象</h6><h6 id="7-通信类"><a href="#7-通信类" class="headerlink" title="7.通信类"></a>7.通信类</h6><ul>
<li>什么是同源策略及限制</li>
<li>前后端如何通信</li>
<li>如何创建Ajax</li>
<li>跨域通信的几种方式</li>
</ul>
<h6 id="8-安全类"><a href="#8-安全类" class="headerlink" title="8.安全类"></a>8.安全类</h6><ul>
<li>CSRF</li>
<li>XSS</li>
</ul>
<h6 id="9-算法类"><a href="#9-算法类" class="headerlink" title="9.算法类"></a>9.算法类</h6><ul>
<li><p>排序</p>
<ul>
<li><p>蛮力法：选择排序和冒泡排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//选择排序</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len=arr.length,min,temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;len<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        min=i; <span class="comment">//假定无序区的第一个元素为最小值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=i+<span class="number">1</span>;j&lt;len;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;arr[min])&#123;</span><br><span class="line">                min=j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp=arr[i];</span><br><span class="line">        arr[i]=arr[min];</span><br><span class="line">        arr[min]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>减治法：插入排序和拓扑排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入排序（类似于扑克牌的插入）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len=arr.length,temp,j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        temp=arr[i];<span class="comment">//待插入变量</span></span><br><span class="line">        j=i<span class="number">-1</span>;<span class="comment">//循环有序区的变量</span></span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; arr[j]&gt;temp)&#123;</span><br><span class="line">            arr[j+<span class="number">1</span>]=arr[j];<span class="comment">//比插入元素大的元素后移</span></span><br><span class="line">            j=j<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[j+<span class="number">1</span>]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//希尔排序，也称递减增量排序，是插入排序的一种更高效的改进版本。本质就是对每个子序列进行插入排序。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len=arr.length;</span><br><span class="line">    <span class="keyword">let</span> gap=len;</span><br><span class="line">    <span class="keyword">let</span> temp,j;</span><br><span class="line">    <span class="keyword">while</span>(gap&gt;<span class="number">1</span>)&#123;</span><br><span class="line">      gap=<span class="built_in">Math</span>.floor(gap/<span class="number">3</span>)+<span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i=gap;i&lt;len;i++)&#123;<span class="comment">//假设每个子序列的第一个元素已排好序,从第二个元素开始插入</span></span><br><span class="line">          temp=arr[i];<span class="comment">//待插入元素</span></span><br><span class="line">          j=i-gap;<span class="comment">//循环有序区的变量</span></span><br><span class="line">          <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; arr[j]&gt;temp)&#123;</span><br><span class="line">              arr[j+gap]=arr[j];<span class="comment">//子序列的元素后移一位</span></span><br><span class="line">              j=j-gap;<span class="comment">//判断子序列的下一个元素</span></span><br><span class="line">          &#125;</span><br><span class="line">          arr[j+gap]=temp;<span class="comment">//插入到空位置</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>分治法：合并排序和快速排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//快速排序,递归实现</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> pivotIndex=<span class="built_in">Math</span>.floor(arr.length/<span class="number">2</span>);<span class="comment">//基准下标</span></span><br><span class="line">    <span class="keyword">let</span> pivot=arr.splice(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];<span class="comment">//基准元素,splice 会改变原始数组,此时数组长度减一</span></span><br><span class="line">    <span class="keyword">let</span> left=[],right=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;pivot)&#123;</span><br><span class="line">            left.push(arr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat([pivot],quickSort(right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>堆栈、队列、链表</p>
</li>
<li><p>递归</p>
</li>
<li><p>波兰式和逆波兰式</p>
</li>
</ul>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JS/" rel="tag"># JS</a>
          
            <a href="/tags/vue/" rel="tag"># vue</a>
          
            <a href="/tags/面试/" rel="tag"># 面试</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/10/京东金融项目实战/" rel="next" title="京东金融项目实战">
                <i class="fa fa-chevron-left"></i> 京东金融项目实战
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/21/原型/" rel="prev" title="原型">
                原型 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Winnie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">18</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/Winnie-bear" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#一-JS基础篇"><span class="nav-number">1.</span> <span class="nav-text">(一) JS基础篇</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一、JS基础"><span class="nav-number">1.1.</span> <span class="nav-text">一、JS基础</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-变量类型和计算"><span class="nav-number">1.1.0.1.</span> <span class="nav-text">1.变量类型和计算</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-原型和原型链"><span class="nav-number">1.1.0.2.</span> <span class="nav-text">2.原型和原型链</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-作用域和闭包"><span class="nav-number">1.1.0.3.</span> <span class="nav-text">3.作用域和闭包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-异步与单线程"><span class="nav-number">1.1.0.4.</span> <span class="nav-text">4.异步与单线程</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-其它知识"><span class="nav-number">1.1.0.5.</span> <span class="nav-text">5.其它知识</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#二、JS-Web-API"><span class="nav-number">1.2.</span> <span class="nav-text">二、JS-Web-API</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-DOM"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">1.DOM</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-BOM"><span class="nav-number">1.2.0.2.</span> <span class="nav-text">2.BOM</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-事件"><span class="nav-number">1.2.0.3.</span> <span class="nav-text">3.事件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-Ajax"><span class="nav-number">1.2.0.4.</span> <span class="nav-text">4.Ajax</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-存储"><span class="nav-number">1.2.0.5.</span> <span class="nav-text">5.存储</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三、JS开发环境"><span class="nav-number">1.3.</span> <span class="nav-text">三、JS开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-git"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">1.git</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-模块化"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">2. 模块化</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-上线和回滚"><span class="nav-number">1.3.0.3.</span> <span class="nav-text">3.上线和回滚</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#四、运行环境"><span class="nav-number">1.4.</span> <span class="nav-text">四、运行环境</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-页面加载过程"><span class="nav-number">1.4.0.1.</span> <span class="nav-text">1.页面加载过程</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-性能优化"><span class="nav-number">1.4.0.2.</span> <span class="nav-text">2.性能优化</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-安全性"><span class="nav-number">1.4.0.3.</span> <span class="nav-text">3.安全性</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二-JS高级篇"><span class="nav-number">2.</span> <span class="nav-text">(二) JS高级篇</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一、ES6"><span class="nav-number">2.1.</span> <span class="nav-text">一、ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-模块化"><span class="nav-number">2.1.0.1.</span> <span class="nav-text">1.模块化</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-class"><span class="nav-number">2.1.0.2.</span> <span class="nav-text">2.class</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-promise"><span class="nav-number">2.1.0.3.</span> <span class="nav-text">3.promise</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-Generator和async"><span class="nav-number">2.1.0.4.</span> <span class="nav-text">4.Generator和async</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-Proxy和Reflect"><span class="nav-number">2.1.0.5.</span> <span class="nav-text">5.Proxy和Reflect</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-decorator"><span class="nav-number">2.1.0.6.</span> <span class="nav-text">6.decorator</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#7-其他常用功能"><span class="nav-number">2.1.0.7.</span> <span class="nav-text">7.其他常用功能</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#二、原型"><span class="nav-number">2.2.</span> <span class="nav-text">二、原型</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-jquery-原型实现"><span class="nav-number">2.2.0.1.</span> <span class="nav-text">1.jquery 原型实现</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-zepto-原型实现"><span class="nav-number">2.2.0.2.</span> <span class="nav-text">2.zepto 原型实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三、异步"><span class="nav-number">2.3.</span> <span class="nav-text">三、异步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#四、virtual-dom（虚拟DOM）"><span class="nav-number">2.4.</span> <span class="nav-text">四、virtual dom（虚拟DOM）</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-设计一个需求场景"><span class="nav-number">2.4.0.1.</span> <span class="nav-text">1.设计一个需求场景</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-patch-container-vnode-和patch-vnode-newVnode-核心实现"><span class="nav-number">2.4.0.2.</span> <span class="nav-text">2.patch(container,vnode)和patch(vnode,newVnode)核心实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#五、MVVM-和-Vue"><span class="nav-number">2.5.</span> <span class="nav-text">五、MVVM 和 Vue</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#六、React-和-组件化"><span class="nav-number">2.6.</span> <span class="nav-text">六、React 和 组件化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#七、hybrid"><span class="nav-number">2.7.</span> <span class="nav-text">七、hybrid</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三-全面篇"><span class="nav-number">3.</span> <span class="nav-text">(三)全面篇</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一、一面-二面"><span class="nav-number">3.1.</span> <span class="nav-text">一、一面/二面</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-页面布局"><span class="nav-number">3.1.0.1.</span> <span class="nav-text">1.页面布局</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-CSS盒模型"><span class="nav-number">3.1.0.2.</span> <span class="nav-text">2.CSS盒模型</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-DOM事件"><span class="nav-number">3.1.0.3.</span> <span class="nav-text">3.DOM事件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-HTTP协议类"><span class="nav-number">3.1.0.4.</span> <span class="nav-text">4.HTTP协议类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-原型链"><span class="nav-number">3.1.0.5.</span> <span class="nav-text">5.原型链</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-面向对象"><span class="nav-number">3.1.0.6.</span> <span class="nav-text">6.面向对象</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#7-通信类"><span class="nav-number">3.1.0.7.</span> <span class="nav-text">7.通信类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#8-安全类"><span class="nav-number">3.1.0.8.</span> <span class="nav-text">8.安全类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#9-算法类"><span class="nav-number">3.1.0.9.</span> <span class="nav-text">9.算法类</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Winnie</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.6.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.2.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.2.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.2.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.2.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

  
  
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

</body>
<!-- 页面点击小红心 --> 
<script type="text/javascript" src="/js/src/love.js"></script>
</html>
